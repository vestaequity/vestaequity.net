!function($){"use strict";if(!$.fn.carousel)throw new Error("carousel-swipe required bootstrap carousel");var CarouselSwipe=function(element){this.$element=$(element),this.carousel=this.$element.data("bs.carousel"),this.options=$.extend({},CarouselSwipe.DEFAULTS,this.carousel.options),this.startX=this.startY=this.startTime=this.cycling=this.$active=this.$items=this.$next=this.$prev=this.dx=null,this.sliding=!1,this.$element.on("touchstart",$.proxy(this.touchstart,this)).on("touchmove",$.proxy(this.touchmove,this)).on("touchend",$.proxy(this.touchend,this)).on("slide.bs.carousel",$.proxy(this.startSliding,this)).on("slid.bs.carousel",$.proxy(this.stopSliding,this))};CarouselSwipe.DEFAULTS={swipe:100},CarouselSwipe.prototype.startSliding=function(){this.sliding=!0},CarouselSwipe.prototype.stopSliding=function(){this.sliding=!1},CarouselSwipe.prototype.touchstart=function(e){if(!this.sliding&&this.options.swipe){var touch=e.originalEvent.touches?e.originalEvent.touches[0]:e;this.dx=0,this.startX=touch.pageX,this.startY=touch.pageY,this.cycling=null,this.width=this.$element.width(),this.startTime=e.timeStamp}},CarouselSwipe.prototype.touchmove=function(e){if(!this.sliding&&this.options.swipe&&this.startTime){var touch=e.originalEvent.touches?e.originalEvent.touches[0]:e,dx=touch.pageX-this.startX,dy=touch.pageY-this.startY;Math.abs(dx)<Math.abs(dy)||(null===this.cycling&&(this.cycling=!!this.carousel.interval,this.cycling&&this.carousel.pause()),e.preventDefault(),this.dx=dx/(this.width||1)*100,this.swipe(this.dx))}},CarouselSwipe.prototype.touchend=function(e){if(!this.sliding&&this.options.swipe&&this.startTime&&this.$active){var all=$().add(this.$active).add(this.$prev).add(this.$next).carousel_transition(!0),dt=(e.timeStamp-this.startTime)/1e3,speed=Math.abs(this.dx/dt);this.dx>40||this.dx>0&&speed>this.options.swipe?this.carousel.prev():this.dx<-40||this.dx<0&&speed>this.options.swipe?this.carousel.next():this.$active.one($.support.transition.end,(function(){all.removeClass("prev next")})).emulateTransitionEnd(1e3*this.$active.css("transition-duration").slice(0,-1)),all.css("transform",""),this.carousel.pause(),$(".playButton").show(),$(".pauseButton").hide(),this.$active=null,this.startTime=null}},CarouselSwipe.prototype.swipe=function(percent){var $active=this.$active||this.getActive();if(percent<0){if(this.$prev.css("transform","translate3d(0,0,0)").removeClass("prev").carousel_transition(!0),!this.$next.length||this.$next.hasClass("active"))return;this.$next.carousel_transition(!1).addClass("next").css("transform","translate3d("+(percent+100)+"%,0,0)")}else{if(this.$next.css("transform","").removeClass("next").carousel_transition(!0),!this.$prev.length||this.$prev.hasClass("active"))return;this.$prev.carousel_transition(!1).addClass("prev").css("transform","translate3d("+(percent-100)+"%,0,0)")}$active.carousel_transition(!1).css("transform","translate3d("+percent+"%, 0, 0)")},CarouselSwipe.prototype.getActive=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$next=this.$active.next(),!this.$next.length&&this.options.wrap&&(this.$next=this.$items.first()),this.$prev=this.$active.prev(),!this.$prev.length&&this.options.wrap&&(this.$prev=this.$items.last()),this.$active};var old=$.fn.carousel;$.fn.carousel=function(){return old.apply(this,arguments),this.each((function(){var $this=$(this);$this.data("bs.carousel.swipe")||$this.data("bs.carousel.swipe",new CarouselSwipe(this))}))},$.extend($.fn.carousel,old),$.fn.carousel_transition=function(enable){return enable=enable?"":"none",this.each((function(){$(this).css("-webkit-transition",enable).css("transition",enable)}))}}(jQuery);
//# sourceURL=https://cdn2.hubspot.net/hub/20728825/hub_generated/template_assets/91602528812/1668473417105/Vesta_Equity_ForeignInvestor/js/carousel-swipe.js